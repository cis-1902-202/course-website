import { Alert } from '@/components/alert';
import { TITLE_BASE } from '@/constants/metadata';

export const metadata = {
  title: `${TITLE_BASE} | Style Guidelines`,
};

## üñåÔ∏è Code style

Code style is extremely important when developing code that lasts. This is especially important with JavaScript because the interpreter is _very tolerant_ and will allow a great deal of syntactic mistakes to pass undetected when code is executed. JS developers must exhibit great discipline in writing idiomatic code that is easily readable to all other developers.

Because of this, we're going to be adhering to a style guide for code written in this class. If you ever go out and write code professionally, you would do well to adhere to a structured style guide as well.

<Alert type="danger">
  For every ESLint error, 0.5 points will be deducted, and if your codebase is
  formatted, 2.5 points will be added. Make sure to lint and format your code!
</Alert>

## üõ†Ô∏è Linting and formatting

In order to do ensure that your JavaScript submissions adhere to this style guide, we will be using [ESLint](http://eslint.org/). You should definitely **check your code style with ESLint before submitting.** If you are not following the rules, 0.5 style point will be deducted for each type of error.

For each homework, you will have to set up ESLint by following the steps in the [development guide](/development) (if it is not provided in the stub file). Our configuration for ESLint is based on the AirBNB style guide, which (believe it or not) is one of the most consistently used and loved configs out there. We also use a plugin called Unicorn which enables some unique good practice rules.

Because code readability includes formatting, we give some extra credit for formatting your code. Our setup is configured up to use Prettier, a popular formatter for web development.

<Alert mdx type="warning">
  We will run ESLint on your code using this set of rules, so do not modify the
  rules yourself _unless_ you want to add extra errorring rules! If you ever
  encounter an error message from ESLint that you don't understand, look it up
  and you will find explanatory documentation.
</Alert>

## ‚úèÔ∏è Syntax

- Use object destructuring and structuring

```ts
// ‚ùå incorrect - no destructuring
const key = obj.key;
const someVariable = obj.key;

// ‚úÖ correct - destructuring
const { key } = obj;
const { key: someVariable } = obj;
```

```ts
const a = 1;
const b = 2;

// ‚ùå incorrect - redundant key names
const obj = { a: a, b: b };

// ‚úÖ correct - structuring
const obj = { a, b };
const obj = { key1: a, key2: b }; // this is fine because key names are different
```

- Omit boolean literal comparisons

```ts
// ‚ùå incorrect
if (b === true) { ... }

// ‚úÖ correct
if (b) { ... }
```

- Explicitly handle `undefined` for numbers and strings

```ts
let optNumber: number | undefined = 0;
let optString: string | undefined = 'hello!';
let optObject: { ... } | undefined = { ... };

// ‚ùå incorrect - must handle nullable numbers and strings
if (optString) { ... };
if (optNumber) { ... };

// ‚úÖ correct - handle undefined case
if (optNumber !== undefined) { ... };
if (optString !== undefined) { ... };
if (optObject) { ... }; // this is ok! objects are always truthy
```

- Use ternary expression instead of `if/else` block whenever possible

```ts
// ‚ùå incorrect
let a;
if (b) {
  a = 3;
} else {
  a = 2;
}

// ‚úÖ correct
let a = b ? 3 : 2;
```

- Use `===` and `!==` instead of `==` and `!=`

- Use `undefined` instead of `null`

- No `{}` and `return` when the function body is one line

```ts
// ‚ùå incorrect
const func = (a) => {
  return a;
};

// ‚úÖ correct
const func = (a) => a;
```

- Declare functions with either `=>` or `function`

```ts
// ‚úÖ both correct
const func = (...) => {};
const func = function (...) {};
```

- Use `let` or `const` for variable declaration instead of `var`
- Use template literals instead of string concatenation

```ts
const s1 = 'the result of 3 + 3 is';
const s2 = 6;

// ‚ùå incorrect
const newString = s1 + ' ' + s2;
// ‚úÖ correct
const newString = `${s1} ${s2}`;
```

- No `console.log()` statements

<Alert mdx>
  There are more rules we didn't mention here that exist in the ESLint configuration. If you encounter one which needs to be broken under a specific circumstance, use `// eslint-disable-next-line <rule-name>` to disable it for whichever line it occurs on. **You must have good reason to do this!**
</Alert>
